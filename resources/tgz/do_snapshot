#!/usr/bin/env ruby
# -*- encoding : utf-8 -*-
# frozen_string_literal: true

Signal.trap('INT') { exit 1 }

# resolve bin path, ignoring symlinks
require 'pathname'
bin_file = Pathname.new(__FILE__).realpath

# add locally vendored gems to libpath
gem_dir = File.expand_path('../../vendor/gems', bin_file)
Dir["#{gem_dir}/**/lib"].each do |libdir|
  $LOAD_PATH.unshift libdir
end

# add self to libpath
$LOAD_PATH.unshift File.expand_path('../../lib', bin_file)

require 'do_snapshot/runner'

DoSnapshot::Runner.new(ARGV.dup).execute!
